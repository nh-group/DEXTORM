f0736eb7 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-02-21 00:40:39 +0100   1) package fr.pantheonsorbonne.cri.reqmapping.impl.gumTree;
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100   2) 
957c8008 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 16:14:43 +0100   3) import com.github.gumtreediff.gen.Generators;
957c8008 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 16:14:43 +0100   4) import com.github.gumtreediff.gen.javaparser.JavaParserGenerator;
ec228f86 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-29 15:31:29 +0100   5) import com.github.gumtreediff.matchers.MappingStore;
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100   6) import com.github.gumtreediff.matchers.Matcher;
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100   7) import com.github.gumtreediff.matchers.Matchers;
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100   8) import com.github.gumtreediff.tree.ITree;
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100   9) import com.github.gumtreediff.tree.TreeContext;
ec228f86 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-29 15:31:29 +0100  10) import com.github.gumtreediff.tree.TreeUtils;
b3ec6f54 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 18:24:33 +0100  11) import com.google.common.base.Strings;
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  12) import com.google.common.collect.Sets;
078daead src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 09:08:57 +0200  13) import fr.pantheonsorbonne.cri.reqmapping.ReqMatch;
078daead src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 09:08:57 +0200  14) import fr.pantheonsorbonne.cri.reqmapping.ReqMatcherBuilder;
f0736eb7 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-02-21 00:40:39 +0100  15) import fr.pantheonsorbonne.cri.reqmapping.impl.gumTree.visitor.CompilationUnitVisitor;
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100  16) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  17) import java.io.IOException;
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  18) import java.util.Arrays;
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  19) import java.util.Collection;
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  20) import java.util.List;
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  21) import java.util.stream.Collectors;
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100  22) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  23) public class GumTreeFacade {
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100  24) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  25)     public static final String BLAME_ID = "blameid";
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  26)     private List<Diff> diffs;
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100  27) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  28)     {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  29)         Arrays.asList(JavaParserGenerator.class).forEach(gen -> {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  30)             com.github.gumtreediff.gen.Register a = gen.getAnnotation(com.github.gumtreediff.gen.Register.class);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  31)             if (a != null)
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  32)                 Generators.getInstance().install(gen, a);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  33)         });
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  34)     }
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100  35) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  36)     public static String dump(TreeContext ct) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  37)         StringBuilder sb = new StringBuilder();
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  38)         for (ITree tr : ct.getRoot().getTrees()) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  39)             sb.append(tr.toPrettyString(ct)).append("//").append(tr.getMetadata(BLAME_ID)).append("\n");
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  40)         }
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100  41) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  42)         return sb.toString();
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  43)     }
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100  44) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  45)     @SuppressWarnings("unchecked")
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  46)     public static void appendMetadata(ITree t, String key, Object value, boolean recursive) {
a92f252b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-29 16:33:47 +0100  47) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  48)         Collection<Object> existingValue = (Collection<Object>) t.getMetadata(key);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  49)         if (existingValue == null) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  50)             existingValue = Sets.newHashSet();
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  51)             t.setMetadata(key, existingValue);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  52)         }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  53) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  54)         if (value instanceof Collection) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  55)             existingValue.addAll((Collection<Object>) value);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  56)         } else if (value instanceof String && !Strings.isNullOrEmpty(((String) value))) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  57)             existingValue.add(value);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  58)         }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  59) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  60)         if (recursive && t.getHeight() > 0) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  61)             for (ITree tt : t.getChildren()) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  62)                 appendMetadata(tt, key, value, recursive);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  63)             }
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  64)         }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  65) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  66)     }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  67) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  68)     public static void addCommitMetadataToTreeRecursive(ITree t, String commitID) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  69)         GumTreeFacade.appendMetadata(t, BLAME_ID, commitID, true);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  70)     }
ec228f86 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-29 15:31:29 +0100  71) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  72)     public static void addCommitMetadataToTree(ITree t, String commitID) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  73)         GumTreeFacade.appendMetadata(t, BLAME_ID, commitID, false);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  74)     }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  75) 
078daead src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 09:08:57 +0200  76)     private static Collection<ReqMatch> getReqMatcher(final TreeContext ctx) {
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  77) 
078daead src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 09:08:57 +0200  78)         CompilationUnitVisitor visitor = new CompilationUnitVisitor(ctx, ReqMatch.newBuilder());
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  79)         TreeUtils.visitTree(ctx.getRoot(), visitor);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  80)         return visitor.getMatchers().stream().map(ReqMatcherBuilder::build).collect(Collectors.toList());
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  81) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  82)     }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  83) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  84)     public void labelDestWithCommit(DiffTree d) {
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  85) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  86)         Matcher m = Matchers.getInstance().getMatcher(d.src.getRoot(), d.dst.getRoot()); // retrieve the default matcher
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  87)         m.match();
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  88)         MappingStore store = m.getMappings();
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  89) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  90)         for (ITree t : d.dst.getRoot().getTrees()) {
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  91) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  92)             if (store.getSrc(t) != null) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  93)                 GumTreeFacade.appendMetadata(t, BLAME_ID, store.getSrc(t).getMetadata(BLAME_ID), false);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  94)             } else {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  95)                 GumTreeFacade.appendMetadata(t, BLAME_ID, d.commitId, false);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  96)             }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100  97) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  98)         }
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200  99)     }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 100) 
078daead src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 09:08:57 +0200 101)     public Collection<ReqMatch> getReqMatcher(List<Diff> diffs) {
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 102) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 103)         TreeContext currentContext = null;
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 104) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 105)         for (Diff diff : diffs) {
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 106) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 107)             DiffTree currentDiff;
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 108)             try {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 109)                 currentDiff = diff.toDiffTree();
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 110) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 111)                 if (currentContext == null) {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 112)                     GumTreeFacade.appendMetadata(currentDiff.dst.getRoot(), GumTreeFacade.BLAME_ID,
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 113)                             currentDiff.commitId, true);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 114)                 } else {
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 115)                     currentDiff.src = currentContext;
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 116)                     this.labelDestWithCommit(currentDiff);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 117)                 }
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 118)                 currentContext = currentDiff.dst;
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 119)             } catch (UnsupportedOperationException | IOException e) {
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 120) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 121)                 e.printStackTrace();
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 122)                 System.exit(-2);
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 123)             }
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100 124) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 125)         }
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 126) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 127)         return GumTreeFacade.getReqMatcher(currentContext);
54ea5929 src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-30 09:48:47 +0100 128) 
adcc0415 src/main/java/fr/pantheonsorbonne/cri/reqmapping/impl/gumTree/GumTreeFacade.java (Nicolas Herbaut 2022-04-22 07:58:30 +0200 129)     }
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100 130) 
a4b1c11b src/main/java/fr/pantheonsorbonne/cri/mapping/impl/gumTree/GumTreeFacade.java    (Nicolas Herbaut 2019-03-27 10:14:06 +0100 131) }
